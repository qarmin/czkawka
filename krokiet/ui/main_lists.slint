import { Button, VerticalBox , HorizontalBox, TabWidget, ListView, StandardListView, StandardTableView, CheckBox} from "std-widgets.slint";
import {SelectableTableView} from "selectable_tree_view.slint";
import {LeftSidePanel} from "left_side_panel.slint";
import {CurrentTab, TypeOfOpenedItem} from "common.slint";
import {MainListModel} from "common.slint";

export component MainList {
    callback item_opened(string);
    in-out property <CurrentTab> active-tab;
    in-out property <[MainListModel]> empty_folder_model;
    in-out property <[MainListModel]> empty_files_model;
    in-out property <[MainListModel]> similar_images_model;
    // TODO - using root.active-tab in visible property will not clear model
    if root.active-tab == CurrentTab.EmptyFolders: SelectableTableView {
        min-width: 200px;
        columns: ["Selection", "Folder Name", "Path"];
        last-column: "Modification Date";
        column-sizes: [35px, 100px, 350px, 300px];
        values <=> empty-folder-model;
        parentPathIdx: 2;
        fileNameIdx: 1;
        item_opened(item) => {
            item_opened(item)
        }
    }

    if root.active-tab == CurrentTab.EmptyFiles: SelectableTableView {
        min-width: 200px;
        columns: ["Selection", "File Name", "Path"];
        last-column: "Modification Date";
        column-sizes: [35px, 100px, 350px, 100px];
        values <=> empty-files-model;
        parentPathIdx: 2;
        fileNameIdx: 1;
        item_opened(item) => {
            item_opened(item)
        }
    }

    if root.active-tab == CurrentTab.SimilarImages: SelectableTableView {
        min-width: 200px;
        columns: ["Selection", "Similarity", "Size", "Dimensions", "File Name", "Path"];
        last-column: "Modification Date";
        column-sizes: [35px, 80px, 80px, 80px, 350px, 100px, 100px];
        values <=> similar-images-model;
        parentPathIdx: 5;
        fileNameIdx: 4;
        item_opened(item) => {
            item_opened(item)
        }
    }
}
